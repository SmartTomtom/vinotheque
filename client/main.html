<head>
  <title>Vinothèque</title>
</head>

<body>
  <h1>Ajouter un vin</h1>
  {{> newWine}}

  <h1>Liste de vins</h1>
  <ul>
    {{#each wines}}
      {{> wine}}
    {{/each}}
  </ul>

  <h1>Nouvelle entrée en cave</h1>
  {{> newEntry}}

  <h1>Historique des entrées</h1>
  <ul>
    {{#each entries}}
      {{> entry}}
    {{/each}}
  </ul>

  <h1>Contenu de la cave</h1>
  <ul>
    {{#each bottles}}
      {{> bottle}}
    {{/each}}
  </ul>
</body>

<template name="newWine">
  <form id="new-wine">
    <label for="color">Couleur</label>
    <input type="text" name="color" placeholder="rouge/blanc/rosé..." /><br/>
    <label for="designation">Appellation</label>
    <input type="text" name="designation" placeholder="Entrer une appellation" /><br/>
    <label for="domain">Domaine</label>
    <input type="text" name="domain" placeholder="Entrer un domaine" /><br/>
    <input type="submit" value="Ajouter"/>
  </form>
</template>

<template name="newEntry">
  <form id="new-entry">
    <label for="date">Date</label>
    <input type="text" name="date" placeholder="date de l'entrée en cave" /><br/>
    <label for="wine">Vin</label>
    <select name="wine">
      <option selected value="0">--- Sélectionner un vin ---</option>
      {{#each wines}}
        {{> wineForList}}
      {{/each}}
    </select><br/>
    <label for="millesime">Millésime</label>
    <input type="number" name="millesime" placeholder="Entrer un millesime" /><br/>
    <label for="quantity">Quantité</label>
    <input type="number" name="quantity" placeholder="Entrer la quantité" /><br/>
    <label for="comments">Commentaires</label>
    <input type="text" name="comments" placeholder="Entrer un commentaire" /><br/>
    <input type="submit" value="Ajouter"/>
  </form>
</template>

<template name="wine">
  <li>{{designation}} - {{domain}} - {{color}}</li>
</template>

<template name="wineForList">
  <option value={{_id}}>{{designation}} - {{domain}}</option>
</template>

<template name="bottle">
  <li>
    {{wine.designation}} - {{millesime}} - {{wine.domain}} : {{quantity}}
    <button class="delete">Supprimer</button>
  </li>
</template>

<template name="entry">
  <li>
    {{date}} - {{wine.designation}} - {{bottles.millesime}} - {{quantity}} - {{comments}}
    <button class="delete">Supprimer</button>
  </li>
</template>
